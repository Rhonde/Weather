# This file was autogenerated by the modm cmake wrapper builder.
# Do not modify!
cmake_minimum_required(VERSION 3.0)
project({{ project_name }})


set(COMMON_FLAGS "{{ ccflags }}")
set(CMAKE_CXX_FLAGS "${COMMON_FLAGS} {{ cxxflags }}")
set(CMAKE_C_FLAGS "${COMMON_FLAGS} {{ cflags }}")
set(CMAKE_C_COMPILER {{ cc }})
set(CMAKE_CXX_COMPILER {{ cxx }})

file(GLOB_RECURSE SOURCE_FILES *.h *.hh *.hpp *.cpp *.cxx *.cc *.c *.sx *.S *.s)

{% for include in includes -%}
include_directories({{ include }})
{% endfor -%}
include_directories(SYSTEM include)

# custom targets for every possible scons target:
{% for target in scons_targets -%}
add_custom_target(scons-{{ target }}
        scons {{ target }}
        WORKING_DIRECTORY ${CMAKE_SOURCE_DIR})
{% endfor %}

# fake target here is never actually built; but has to be here in order for
# CLion to "see" the files and index them.
add_executable(fake-target ${SOURCE_FILES})
